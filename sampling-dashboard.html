<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-N7K2R34EEQ"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-N7K2R34EEQ');
  </script>

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Carissa Mayo - WA Water Quality Dashboard</title>

  <link rel="icon" type="image/x-icon" href="tabicon.ico" />
  <link rel="icon" type="image/png" sizes="16x16" href="neural.png" />

  <script src="https://unpkg.com/lucide@latest"></script>
  <link rel="stylesheet" href="styles.css" />

  <style>
    .page-shell {
      padding-top: 90px;
      padding-bottom: 60px;
    }

    .page-header {
      display: flex;
      align-items: flex-start;
      justify-content: space-between;
      gap: 18px;
      margin-bottom: 18px;
    }

    .page-header h1 {
      margin: 0;
    }

    .page-subtitle {
      margin: 10px 0 0 0;
      opacity: 0.9;
      max-width: 900px;
    }

    .dashboard-wrap {
      width: 100%;
      border-radius: 14px;
      overflow: visible;
    }

    .tableauPlaceholder {
      width: 100% !important;
    }

    /* --- Write-up styles --- */
    .writeup {
      margin-top: 26px;
      display: grid;
      grid-template-columns: 1fr;
      gap: 16px;
    }

    .section-card {
      border-radius: 16px;
      padding: 18px 18px;
      background: rgba(255,255,255,0.04);
      border: 1px solid rgba(255,255,255,0.10);
      box-shadow: 0 8px 28px rgba(0,0,0,0.18);
    }

    .section-title {
      display: flex;
      align-items: center;
      gap: 10px;
      margin: 0 0 10px 0;
      font-size: 1.05rem;
    }

    .section-title i {
      width: 18px;
      height: 18px;
      opacity: 0.9;
    }

    .section-card p {
      margin: 10px 0;
      line-height: 1.6;
      max-width: 980px;
    }

    .section-card ul {
      margin: 10px 0 0 18px;
      padding: 0;
      line-height: 1.6;
    }

    .section-card li {
      margin: 6px 0;
    }

    .grid-2 {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 14px;
    }

    .callouts {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 12px;
    }

    .callout {
      border-radius: 14px;
      padding: 14px 14px;
      background: rgba(255,255,255,0.03);
      border: 1px solid rgba(255,255,255,0.08);
    }

    .callout .kicker {
      font-size: 0.82rem;
      opacity: 0.85;
      margin: 0 0 6px 0;
      text-transform: uppercase;
      letter-spacing: 0.06em;
    }

    .callout .value {
      font-size: 1.1rem;
      margin: 0;
    }

    .meta-row {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 10px;
    }

    .pill {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 8px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.12);
      background: rgba(255,255,255,0.03);
      font-size: 0.9rem;
      opacity: 0.95;
      white-space: nowrap;
    }

    .pill i {
      width: 16px;
      height: 16px;
      opacity: 0.9;
    }

    .small-note {
      opacity: 0.85;
      font-size: 0.95rem;
    }

    .divider {
      height: 1px;
      background: rgba(255,255,255,0.10);
      margin: 12px 0;
    }

    .table-like {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
      overflow: hidden;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,0.10);
    }

    .table-like th, .table-like td {
      text-align: left;
      padding: 10px 12px;
      border-bottom: 1px solid rgba(255,255,255,0.08);
      vertical-align: top;
      line-height: 1.45;
    }

    .table-like th {
      opacity: 0.9;
      font-weight: 600;
      background: rgba(255,255,255,0.03);
    }

    .table-like tr:last-child td {
      border-bottom: none;
    }

    @media (max-width: 900px) {
      .callouts {
        grid-template-columns: 1fr;
      }
      .grid-2 {
        grid-template-columns: 1fr;
      }
    }

    @media (max-width: 700px) {
      .page-header {
        flex-direction: column;
        align-items: flex-start;
      }
    }
  </style>
</head>

<body>
  <!-- Google Tag Manager (noscript) -->
  <noscript>
    <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NDWF7DK6"
      height="0" width="0" style="display:none;visibility:hidden"></iframe>
  </noscript>
  <!-- End Google Tag Manager (noscript) -->

  <nav>
    <div class="container">
      <div class="logo">
        <img src="tabicon.ico" alt="" class="brand-mark" />
        <span>Carissa Mayo</span>
      </div>
      <ul>
        <li><a href="index.html#projects"><span>Projects</span></a></li>
        <li><a href="index.html"><span>Home</span></a></li>
      </ul>
    </div>
  </nav>

  <main class="page-shell">
    <div class="container-wide">
      <div class="page-header">
        <div>
          <h1>WA Water Quality Dashboard</h1>
          <p class="page-subtitle">
            Interactive visualization of nitrate and orthophosphate measurements across Washington,
            comparing surface and ground water samples.
          </p>
        </div>

        <a class="btn" href="index.html#projects" style="white-space: nowrap;">
          <i data-lucide="arrow-left"></i>
          Back to Projects
        </a>
      </div>

      <div class="dashboard-wrap">
        <!-- START: Tableau embed -->
        <div class='tableauPlaceholder' id='viz1769544987829' style='position: relative'>
          <noscript>
            <a href='#'>
              <img alt='Water Quality Data Visualization for WA - Nitrate and Orthophosphate with ground and surface water samples '
                   src='https://public.tableau.com/static/images/Wa/Water_Samples/Dashboard2/1_rss.png'
                   style='border:none;' />
            </a>
          </noscript>

          <object class='tableauViz' style='display:none;'>
            <param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' />
            <param name='embed_code_version' value='3' />
            <param name='site_root' value='' />
            <param name='name' value='Water_Samples&#47;Dashboard2' />
            <param name='tabs' value='no' />
            <param name='toolbar' value='yes' />
            <param name='static_image' value='https://public.tableau.com/static/images/Wa/Water_Samples/Dashboard2/1.png' />
            <param name='animate_transition' value='yes' />
            <param name='display_static_image' value='yes' />
            <param name='display_spinner' value='yes' />
            <param name='display_overlay' value='yes' />
            <param name='display_count' value='yes' />
            <param name='language' value='en-US' />
          </object>
        </div>

        <script type='text/javascript'>
          var divElement = document.getElementById('viz1769544987829');
          var vizElement = divElement.getElementsByTagName('object')[0];

          // Make it responsive instead of hardcoding 1200px.
          // Tableau uses the object width/height to size the viz.
          vizElement.style.width = '100%';

          // Choose a sane height curve
          var w = divElement.offsetWidth;
          if (w > 1000) {
            vizElement.style.height = '800px';
          } else if (w > 700) {
            vizElement.style.height = '900px';
          } else {
            vizElement.style.height = '1200px';
          }

          var scriptElement = document.createElement('script');
          scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';
          vizElement.parentNode.insertBefore(scriptElement, vizElement);
        </script>
        <!-- END: Tableau embed -->
      </div>

      <!-- START: Write-up / Project narrative -->
      <section class="writeup">

        <div class="section-card">
          <h2 class="section-title">
            <i data-lucide="file-text"></i>
            Project overview
          </h2>
          <p>
            This project turns raw water quality measurements into a single interactive dashboard that lets you explore
            nutrient patterns across Washington, compare surface vs ground water, and evaluate seasonality.
            The work is end-to-end: data ingestion, cleaning, relational modeling, analysis, and a
            public-facing dashboard.
          </p>

          <div class="meta-row">
            <span class="pill"><i data-lucide="bar-chart-3"></i> Tableau dashboard</span>
            <span class="pill"><i data-lucide="database"></i> SQL pipeline</span>
            <span class="pill"><i data-lucide="flask-conical"></i> Hypothesis tests + confidence intervals</span>
            <span class="pill"><i data-lucide="map"></i> Geospatial exploration</span>
          </div>
        </div>

        <div class="section-card">
          <h2 class="section-title">
            <i data-lucide="target"></i>
            Goals
          </h2>
          <div class="grid-2">
            <div>
              <ul>
                <li><strong>Make nutrient signals interpretable.</strong> Nitrate and orthophosphate are common indicators for nutrient loading and water quality concerns, but raw tables are hard to parse.</li>
                <li><strong>Support comparisons that are fair.</strong> Compare groups using consistent time windows, sampling types, and aggregation rules.</li>
                <li><strong>Keep lineage traceable.</strong> Every chart in the dashboard should be reproducible from the pipeline outputs.</li>
              </ul>
            </div>
            <div>
              <ul>
                <li><strong>Standardize messy terminology.</strong> Across sources and tables, attribute names and units can be inconsistent and break cross-sheet filtering unless normalized.</li>
                <li><strong>Expose uncertainty.</strong> Summaries include sample sizes and uncertainty where appropriate.</li>
                <li><strong>Deliver a public-facing artifact.</strong> A clear story: data aggregating decisions + analytics + a dashboard that answers real questions.</li>
              </ul>
            </div>
          </div>
        </div>

        <div class="section-card">
          <h2 class="section-title">
            <i data-lucide="database"></i>
            Data and structure
          </h2>
          <p>
            The dashboard is built from the Water Qaulity Portal (WQP) monitoring measurements that include site metadata (location and identifiers),
            sampling context (water type),and chemistry measurements The pipeline reshapes these into analysis-ready
            tables that are easy to join and filter reliably inside Tableau.
          </p>

          <div class="section-card">
          <h2 class="section-title">
            <i data-lucide="flask-conical"></i>
            Analyses shown in the dashboard
          </h2>
          <p>
            The dashboard mixes exploratory visualization with a small set of targeted statistical comparisons. This provides interpretable summaries that help a user answer practical questions like:
            “Do concentrations differ by season?” and “Do patterns look different between ground and surface water?”
          </p>

          <ul>
            <li><strong>Seasonal comparison tests:</strong> summer vs winter mean comparisons per chemical and water type using bootstrap analysis.</li>
            <li><strong>Confidence intervals:</strong> 95% CIs displayed alongside effect estimates to show uncertainty, not just a p value.</li>
            <li><strong>Mapping and distribution views:</strong> spatial context + distribution plots to identify outliers and site-to-site variation.</li>
          </ul>
        </div>

        <div class="section-card">
          <h2 class="section-title">
            <i data-lucide="check-circle-2"></i>
            Key results
          </h2>
          <p>
            The specific numbers below reflect the analytical summaries produced by the statistical tests and displayed in the dashboard
            (Summer vs Winter mean comparisons). Interpret them as “estimated difference between groups” with uncertainty and sample size context.
          </p>

          <table class="table-like" aria-label="Example results for seasonal comparisons">
            <thead>
              <tr>
                <th>Chemical</th>
                <th>Water type</th>
                <th>Effect</th>
                <th>95% CI</th>
                <th>p value</th>
                <th>Sample sizes</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>Nitrate</strong></td>
                <td>Groundwater</td>
                <td>1.83</td>
                <td>[0.80, 3.00]</td>
                <td>0.00</td>
                <td>n=72 (summer), n=24 (winter)</td>
              </tr>
              <tr>
                <td> </td>
                <td>Surface Water</td>
                <td>-0.80</td>
                <td>[-3.88, 1.81]</td>
                <td>0.55</td>
                <td>n=162 (summer), n=116 (winter)</td>
              </tr>
              <tr>
                <td><strong>Orthophosphate</strong></td>
                <td>Groundwater</td>
                <td>-0.01</td>
                <td>[-2.92, 7.62]</td>
                <td>0.21</td>
                <td>n=96 (summer), n=34 (winter)</td>
              </tr>
              <tr>
                <td> </td>
                <td>Surface Water</td>
                <td>2.94</td>
                <td>[-6.42, 0.10]</td>
                <td>0.63</td>
                <td>n=137 (summer), n=80 (winter)</td>
              </tr>
            </tbody>
          </table>

          <p class="small-note">
            What this means: Nitrate groundwater has significant evidence for seasonality between the summer and winter seasons.
            The positive effect value represents higher summer measurements compared to winter measurements.
            However, for the other 3/4 of these seasonal comparisons, the uncertainty intervals overlap zero and the p values are not small.
            That is evidence that the seasonal mean differences are not strongly separated for these measurements, as shown in this analysis.
            The more useful signal may be spatial variation, site-specific behavior, and differences by water type, which the dashboard makes easy to explore.
          </p>
        </div>

          <table class="table-like" aria-label="Data tables used in this project">
            <thead>
              <tr>
                <th> </th>
                <th>What it contains</th>
                <th>Why it exists</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>sites</strong></td>
                <td>Site identifiers, names, lat/lon, and watershed fields.</td>
                <td>Separates stable site metadata from measurement-level data to avoid duplication and enable mapping.</td>
              </tr>
              <tr>
                <td><strong>results</strong></td>
                <td>Measurement records keyed by site, date/time, water type, and chemical.</td>
                <td>Single canonical measurement table for filtering and aggregation.</td>
              </tr>
              <tr>
                <td><strong>agg_month</strong></td>
                <td>Monthly aggregation by chemical and water type (counts and summary statistics).</td>
                <td>Makes seasonality exploration fast and consistent across charts.</td>
              </tr>
              <tr>
                <td><strong>test_results</strong></td>
                <td>Precomputed hypothesis tests and confidence intervals for defined comparisons.</td>
                <td>Lets the dashboard display analytical summaries without recomputing statistics inside Tableau.</td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="section-card">
          <h2 class="section-title">
            <i data-lucide="settings"></i>
            Pipeline and QA decisions
          </h2>

          <div class="callouts" role="list">
            <div class="callout" role="listitem">
              <p class="kicker">Standardization</p>
              <p class="value">Normalized chemical labels/units and site names to one canonical dimension.</p>
            </div>
            <div class="callout" role="listitem">
              <p class="kicker">Typed outputs</p>
              <p class="value">Loaded raw CSVs into staging tables, then cast into analysis tables to prevent joining issues.</p>
            </div>
            <div class="callout" role="listitem">
              <p class="kicker">Reproducibility</p>
              <p class="value">All derived fields and aggregations are produced in SQL Server so Tableau stays lightweight and consistent.</p>
            </div>
          </div>

          <div class="divider"></div>

          <ul>
            <li><strong>Unit and format handling:</strong> enforced consistent numeric units and date parsing.</li>
            <li><strong>Missingness strategy:</strong> missing values are retained as missing (not converted to zero), and summaries track sample counts. Samples at the detection limit are also inlcuded and tracked.</li>
            <li><strong>Aggregation rules:</strong> monthly summaries use consistent grouping keys so charts agree with each other across pages.</li>
          </ul>
        </div>

        <div class="section-card">
          <h2 class="section-title">
            <i data-lucide="alert-triangle"></i>
            Limitations and next steps
          </h2>
          <div class="grid-2">
            <div>
              <h3 style="margin: 0 0 8px 0; font-size: 1rem; opacity: 0.95;">Limitations</h3>
              <ul>
                <li><strong>Non-uniform sampling:</strong> monitoring data often has uneven coverage across sites and time, which affects interpretability.</li>
                <li><strong>Confounding:</strong> season is correlated with flow, land use, and sampling effort, so simple group comparisons can miss structure.</li>
                <li><strong>Unit and method differences:</strong> even after cleaning, lab methods and reporting conventions can introduce variability.</li>
              </ul>
            </div>
            <div>
              <h3 style="margin: 0 0 8px 0; font-size: 1rem; opacity: 0.95;">Next steps</h3>
              <ul>
                <li><strong>Add stratified views:</strong> break out comparisons by watershed or region, not only statewide summaries.</li>
                <li><strong>Model-based layer:</strong> add a simple hierarchical model or regression adjustment to control for site and season simultaneously.</li>
                <li><strong>Data quality flags:</strong> surface detection limits, censored values, and method codes more explicitly in the dashboard.</li>
              </ul>
            </div>
          </div>
        </div>

      </section>
      <!-- END: Write-up / Project narrative -->

      <div style="margin-top: 14px;">
        <div class="tableau-footer-link">
          <a class="project-link"
             href="https://github.com/Carissa-Mayo/water-sampling-visualization"
             target="_blank"
             rel="noopener noreferrer">
            <svg class="icon github-icon" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
              <path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2z"/>
            </svg>
            <span>Data/Pipeline Details</span>
          </a>
        </div>
      </div>

    </div>
  </main>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      if (window.lucide) lucide.createIcons();
    });
  </script>
</body>
</html>
